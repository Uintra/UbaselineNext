<ng-container *ngIf="data">
  <a class="link__link" *ngIf="!data.innerRoute && !download" href="{{ data.url }}" target="{{ data.target }}">
    <ng-container *ngTemplateOutlet="content"></ng-container>

    <div *ngIf="withArrow" class="link__arrow">
      <ng-container *ngTemplateOutlet="icon"></ng-container>
    </div>
  </a>

  <a class="link__link" *ngIf="!data.innerRoute && download" download href="{{ data.url }}" target="{{ data.target }}">
    <ng-container *ngTemplateOutlet="content"></ng-container>

    <div *ngIf="withArrow" class="link__arrow">
      <ng-container *ngTemplateOutlet="icon"></ng-container>
    </div>
  </a>

  <a class="link__link"
    *ngIf="data.innerRoute"
    [routerLink]="data.url"
    [queryParams]="data.queryParams"
    target="{{ data.target || '_self' }}"
    [routerLinkActiveOptions]="{exact: true}"
    [routerLinkActive]="'link__link--active'">
      <ng-container *ngTemplateOutlet="content"></ng-container>

      <div *ngIf="withArrow" class="link__arrow">
        <ng-container *ngTemplateOutlet="icon"></ng-container>
      </div>
  </a>
</ng-container>

<ng-template #content>
  <ng-content select='[position="before"]'></ng-content>
  <span class="link__text"><ng-content></ng-content></span>
  <ng-content select='[position="after"]'></ng-content>
</ng-template>

<ng-template #icon>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
    <path
      d="M28 14H8.8l4.6-4.6c.4-.4.6-.9.6-1.4 0-1-.8-2-2-2-.5 0-1 .2-1.4.6l-8 8c-.3.3-.6.7-.6 1.4s.3 1 .6 1.4l8 8c.4.4.9.6 1.4.6 1.2 0 2-1 2-2 0-.5-.2-1-.6-1.4L8.8 18H28a2 2 0 0 0 0-4z" />
  </svg>
</ng-template>